@using ProjectsPlanning.Chernetsov.Entities;
@using ProjectsPlanning.Chernetsov.Entities.DTO;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model EditProject


<div class="modal-content" id="project-change-modal">

    
        <div class="modal-header">
            <h4 class="modal-title" id="project-change-modalLabel" style="font-size: 1.125rem;">
                @Model.Name.ToString()
                @if (Model.PriorityId == 1)
                {
                    <span class="badge bg-success">@Model.Priority.Name</span>
                }
                @if (Model.PriorityId == 2)
                {
                <span class="badge bg-warning">@Model.Priority.Name</span>
                }
                @if (Model.PriorityId == 3)
                {
                <span class="badge bg-danger">@Model.Priority.Name</span>
                }
            </h4>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="close"></button>
        </div>
    <div class="modal-body">
        <form method="post" asp-page="Index" asp-page-handler="EditProject" asp-route-id="@Model.Id">
            <div class="form-group mb-3">
                <label asp-for="Name" class="col-sm-2 col-form-label"></label>
                <input asp-for="Name" class="form-control" id="inputTitle" />
            </div>
            <div class="row" style="display:flex">
                <div class="form-group col mb-3 ms-5">
                    <label asp-for="SelectedValuePriority"></label>
                    <select class="mt-2" asp-for="SelectedValuePriority" asp-items="Model.EditPriorityItems"></select>
                </div>
                <div class="form-group col mb-2">
                    <label asp-for="SelectedValueTeam"></label>
                    <select class="mt-2" asp-for="SelectedValueTeam" asp-items="Model.EditTeamItems"></select>
                </div>
                <div class="form-group col mb-2">
                    <label asp-for="SelectedValueStatus"></label>
                    <select class="mt-2" asp-for="SelectedValueStatus" asp-items="Model.EditStatusItems"></select>
                </div>
            </div>
            <div class="row d-flex text-center">
                <div class="form-group col mb-2">
                    <label asp-for="SelectedValueCategory"></label>
                    <select class="mt-2" asp-for="SelectedValueCategory"  asp-items="Model.EditCategoryItems"></select>
                </div>
            </div>
            <div class="row" style="display:flex">
                <div class="form-group mb-2 me-5">
                    <label class="mb-2" asp-for="DueDate">Дата окончания</label>
                    <input asp-for="DueDate" class="form-control" id="AddDueDate">
                    <span asp-validation-for="DueDate" style="color:darkred"> </span>
                </div>
            </div>
            <div class="form-group mb-3">
                <label asp-for="Description" class="col-sm-2 col-form-label"></label>
                <input asp-for="Description" class="form-control" id="inputTitle" />
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn-success">Сохранить</button>
            </div>
        </form>
    </div>
 </div>

 <script>
    $('#project-change-modal').on('hidden.bs.modal', function () {
        $('#editDiv').empty();
    });
 </script>*